exports.id=766,exports.ids=[766],exports.modules={13497:(e,t,r)=>{Promise.resolve().then(r.bind(r,16609))},63687:(e,t,r)=>{Promise.resolve().then(r.bind(r,7400)),Promise.resolve().then(r.bind(r,56444)),Promise.resolve().then(r.bind(r,43921))},87133:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,84114,23)),Promise.resolve().then(r.t.bind(r,28866,23)),Promise.resolve().then(r.t.bind(r,31324,23)),Promise.resolve().then(r.t.bind(r,83567,23)),Promise.resolve().then(r.t.bind(r,55996,23)),Promise.resolve().then(r.t.bind(r,10050,23))},16609:(e,t,r)=>{"use strict";r.d(t,{AdminSidebar:()=>y});var s=r(62901),n=r(62392),a=r(84374),i=r(68637),o=r(83671),l=r(83545),d=r(71945);let c=(0,d.Z)("FolderTree",[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]]);var u=r(66843),f=r(59183);let h=(0,d.Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),m=(0,d.Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var p=r(25650),x=r(84700),g=r(24383),b=r(27878);let v=[{title:"Dashboard",href:"/admin",icon:o.Z},{title:"Productos",href:"/admin/products",icon:l.Z},{title:"Categor\xedas",href:"/admin/categories",icon:c},{title:"Usuarios",href:"/admin/users",icon:u.Z},{title:"\xd3rdenes",href:"/admin/orders",icon:f.Z}];function y(){let e=(0,a.usePathname)(),[t,r]=(0,g.useState)(!1),[o,l]=(0,g.useState)(!1);return(0,s.jsxs)(s.Fragment,{children:[s.jsx(b.z,{variant:"ghost",size:"icon",className:"fixed top-4 left-4 z-50 lg:hidden",onClick:()=>l(!o),children:s.jsx(h,{className:"h-6 w-6"})}),o&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>l(!1)}),s.jsx("aside",{className:(0,i.cn)("fixed left-0 top-0 z-40 h-screen bg-white border-r border-gray-200 transition-all duration-300",t?"w-20":"w-64",o?"translate-x-0":"-translate-x-full lg:translate-x-0"),children:(0,s.jsxs)("div",{className:"flex flex-col h-full",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[!t&&(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-600 to-purple-600 rounded-lg"}),s.jsx("span",{className:"font-bold text-xl",children:"Admin"})]}),s.jsx("button",{onClick:()=>r(!t),className:"hidden lg:flex p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(m,{className:(0,i.cn)("h-5 w-5 transition-transform",t&&"rotate-180")})})]}),s.jsx("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:v.map(r=>{let a=r.icon,o=e===r.href;return(0,s.jsxs)(n.default,{href:r.href,onClick:()=>l(!1),className:(0,i.cn)("flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors",o?"bg-blue-50 text-blue-600":"text-gray-700 hover:bg-gray-100",t&&"justify-center"),children:[s.jsx(a,{className:"h-5 w-5 flex-shrink-0"}),!t&&s.jsx("span",{className:"font-medium",children:r.title})]},r.href)})}),s.jsx("div",{className:"p-4 border-t border-gray-200",children:(0,s.jsxs)("button",{onClick:()=>(0,x.signOut)({callbackUrl:"/"}),className:(0,i.cn)("flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors w-full text-gray-700 hover:bg-red-50 hover:text-red-600",t&&"justify-center"),children:[s.jsx(p.Z,{className:"h-5 w-5 flex-shrink-0"}),!t&&s.jsx("span",{className:"font-medium",children:"Cerrar Sesi\xf3n"})]})})]})})]})}},7400:(e,t,r)=>{"use strict";r.d(t,{ConditionalLayout:()=>p});var s=r(62901),n=r(84374),a=r(62392),i=r(84700),o=r(83671),l=r(59183),d=r(77185),c=r(25650),u=r(27878),f=r(24383);function h(){let{data:e,status:t}=(0,i.useSession)()||{},[r,n]=(0,f.useState)(0),[h,m]=(0,f.useState)(!1);if(!h)return null;let p=e?.user?.role==="ADMIN";return s.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-white/80 backdrop-blur-md",children:s.jsx("div",{className:"container mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex h-16 items-center justify-between",children:[s.jsx(a.default,{href:"/",className:"text-2xl font-bold text-[#60B5FF] hover:text-[#4A9FE8] transition-colors",children:"ShopHub"}),s.jsx("nav",{className:"flex items-center gap-4",children:"authenticated"===t&&e?(0,s.jsxs)(s.Fragment,{children:[p&&s.jsx(a.default,{href:"/admin",children:(0,s.jsxs)(u.z,{variant:"ghost",size:"sm",className:"gap-2",children:[s.jsx(o.Z,{className:"h-4 w-4"}),"Admin"]})}),s.jsx(a.default,{href:"/orders",children:s.jsx(u.z,{variant:"ghost",size:"sm",children:"Mis \xd3rdenes"})}),s.jsx(a.default,{href:"/cart",children:(0,s.jsxs)(u.z,{variant:"ghost",size:"sm",className:"gap-2 relative",children:[s.jsx(l.Z,{className:"h-5 w-5"}),r>0&&s.jsx("span",{className:"absolute -top-1 -right-1 flex h-5 w-5 items-center justify-center rounded-full bg-red-500 text-[10px] font-bold text-white shadow-lg",children:r>99?"99+":r})]})}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(d.Z,{className:"h-5 w-5 text-gray-600"}),s.jsx("span",{className:"text-sm text-gray-700",children:e.user?.name||e.user?.email})]}),(0,s.jsxs)(u.z,{variant:"ghost",size:"sm",onClick:()=>(0,i.signOut)({callbackUrl:"/login"}),className:"gap-2",children:[s.jsx(c.Z,{className:"h-4 w-4"}),"Salir"]})]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(a.default,{href:"/login",children:s.jsx(u.z,{variant:"ghost",size:"sm",children:"Iniciar Sesi\xf3n"})}),s.jsx(a.default,{href:"/signup",children:s.jsx(u.z,{size:"sm",className:"bg-[#60B5FF] hover:bg-[#4A9FE8]",children:"Registrarse"})})]})})]})})})}function m(){return s.jsx("footer",{className:"w-full border-t bg-gray-50 py-8 mt-auto",children:s.jsx("div",{className:"container mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex flex-col items-center justify-between gap-4 sm:flex-row",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"\xa9 2024 ShopHub. Todos los derechos reservados."}),(0,s.jsxs)("div",{className:"flex gap-6",children:[s.jsx(a.default,{href:"/",className:"text-sm text-gray-600 hover:text-[#60B5FF] transition-colors",children:"Inicio"}),s.jsx(a.default,{href:"/cart",className:"text-sm text-gray-600 hover:text-[#60B5FF] transition-colors",children:"Carrito"})]})]})})})}function p({children:e}){let t=(0,n.usePathname)();return t?.startsWith("/admin")?s.jsx(s.Fragment,{children:e}):(0,s.jsxs)("div",{className:"flex min-h-screen flex-col",children:[s.jsx(h,{}),s.jsx("main",{className:"flex-1",children:e}),s.jsx(m,{})]})}},56444:(e,t,r)=>{"use strict";r.d(t,{Providers:()=>a});var s=r(62901),n=r(84700);function a({children:e}){return s.jsx(n.SessionProvider,{children:e})}},27878:(e,t,r)=>{"use strict";r.d(t,{z:()=>d});var s=r(62901),n=r(24383),a=r(42049),i=r(47279),o=r(68637);let l=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=n.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...i},d)=>{let c=n?a.g7:"button";return s.jsx(c,{className:(0,o.cn)(l({variant:t,size:r,className:e})),ref:d,...i})});d.displayName="Button"},68637:(e,t,r)=>{"use strict";r.d(t,{cn:()=>a});var s=r(84330),n=r(77189);function a(...e){return(0,n.m6)((0,s.W)(e))}},83545:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(71945).Z)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]])},66843:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(71945).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},97373:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var s=r(83537),n=r(57978),a=r(34513),i=r(86023);let o=(0,r(88895).createProxy)(String.raw`/home/ubuntu/ecommerce_app/nextjs_space/components/admin-sidebar.tsx#AdminSidebar`);async function l({children:e}){let t=await (0,n.getServerSession)(i.L);return t?.user||(0,a.redirect)("/login"),"ADMIN"!==t.user.role&&(0,a.redirect)("/"),(0,s.jsxs)("div",{className:"flex min-h-screen bg-gray-50",children:[s.jsx(o,{}),s.jsx("main",{className:"flex-1 lg:ml-64 transition-all duration-300",children:s.jsx("div",{className:"p-6 lg:p-8",children:e})})]})}},55500:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f,dynamic:()=>c,metadata:()=>u});var s=r(83537),n=r(57416),a=r.n(n);r(26148);var i=r(88895);let o=(0,i.createProxy)(String.raw`/home/ubuntu/ecommerce_app/nextjs_space/components/providers.tsx#Providers`),l=(0,i.createProxy)(String.raw`/home/ubuntu/ecommerce_app/nextjs_space/components/conditional-layout.tsx#ConditionalLayout`);var d=r(37309);let c="force-dynamic",u={metadataBase:new URL(process.env.NEXTAUTH_URL||"http://localhost:3000"),title:"ShopHub - Tu Tienda Online",description:"Tienda online moderna con los mejores productos",icons:{icon:"/favicon.svg",shortcut:"/favicon.svg"},openGraph:{title:"ShopHub - Tu Tienda Online",description:"Tienda online moderna con los mejores productos",images:["/og-image.png"]}};function f({children:e}){return(0,s.jsxs)("html",{lang:"es",suppressHydrationWarning:!0,children:[s.jsx("head",{children:s.jsx("script",{src:"https://apps.abacus.ai/chatllm/appllm-lib.js"})}),s.jsx("body",{className:a().className,children:(0,s.jsxs)(o,{children:[s.jsx(l,{children:e}),s.jsx(d.x7,{position:"top-center",richColors:!0})]})})]})}},86023:(e,t,r)=>{"use strict";r.d(t,{L:()=>l});var s=r(66291),n=r(64617),a=r(83178),i=r(3390),o=r.n(i);let l={adapter:(0,n.N)(a._),providers:[(0,s.Z)({name:"Credentials",credentials:{email:{label:"Email",type:"email"},password:{label:"Password",type:"password"}},async authorize(e){if(!e?.email||!e?.password)throw Error("Email y contrase\xf1a son requeridos");let t=await a._.user.findUnique({where:{email:e.email}});if(!t||!t?.password||!await o().compare(e.password,t.password))throw Error("Credenciales inv\xe1lidas");return{id:t.id,email:t.email,name:t.name,role:t.role}}})],callbacks:{jwt:async({token:e,user:t})=>(t&&(e.role=t.role,e.id=t.id),e),session:async({session:e,token:t})=>(e?.user&&(e.user.role=t.role,e.user.id=t.id),e)},pages:{signIn:"/login"},session:{strategy:"jwt"},secret:process.env.NEXTAUTH_SECRET}},83178:(e,t,r)=>{"use strict";r.d(t,{_:()=>n});var s=r(53524);let n=globalThis.prisma??new s.PrismaClient},34513:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyURLSearchParams:function(){return i},RedirectType:function(){return s.RedirectType},notFound:function(){return n.notFound},permanentRedirect:function(){return s.permanentRedirect},redirect:function(){return s.redirect}});let s=r(69138),n=r(18403);class a extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class i extends URLSearchParams{append(){throw new a}delete(){throw new a}set(){throw new a}sort(){throw new a}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},18403:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isNotFoundError:function(){return n},notFound:function(){return s}});let r="NEXT_NOT_FOUND";function s(){let e=Error(r);throw e.digest=r,e}function n(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},34769:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RedirectStatusCode",{enumerable:!0,get:function(){return r}}),function(e){e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect"}(r||(r={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},69138:(e,t,r)=>{"use strict";var s;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{RedirectType:function(){return s},getRedirectError:function(){return l},getRedirectStatusCodeFromError:function(){return m},getRedirectTypeFromError:function(){return h},getURLFromRedirectError:function(){return f},isRedirectError:function(){return u},permanentRedirect:function(){return c},redirect:function(){return d}});let n=r(54580),a=r(72934),i=r(34769),o="NEXT_REDIRECT";function l(e,t,r){void 0===r&&(r=i.RedirectStatusCode.TemporaryRedirect);let s=Error(o);s.digest=o+";"+t+";"+e+";"+r+";";let a=n.requestAsyncStorage.getStore();return a&&(s.mutableCookies=a.mutableCookies),s}function d(e,t){void 0===t&&(t="replace");let r=a.actionAsyncStorage.getStore();throw l(e,t,(null==r?void 0:r.isAction)?i.RedirectStatusCode.SeeOther:i.RedirectStatusCode.TemporaryRedirect)}function c(e,t){void 0===t&&(t="replace");let r=a.actionAsyncStorage.getStore();throw l(e,t,(null==r?void 0:r.isAction)?i.RedirectStatusCode.SeeOther:i.RedirectStatusCode.PermanentRedirect)}function u(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,r,s,n]=e.digest.split(";",4),a=Number(n);return t===o&&("replace"===r||"push"===r)&&"string"==typeof s&&!isNaN(a)&&a in i.RedirectStatusCode}function f(e){return u(e)?e.digest.split(";",3)[2]:null}function h(e){if(!u(e))throw Error("Not a redirect error");return e.digest.split(";",2)[1]}function m(e){if(!u(e))throw Error("Not a redirect error");return Number(e.digest.split(";",4)[3])}(function(e){e.push="push",e.replace="replace"})(s||(s={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},26148:()=>{}};