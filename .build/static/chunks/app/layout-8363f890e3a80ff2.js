(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{22020:function(e,t,r){Promise.resolve().then(r.bind(r,71756)),Promise.resolve().then(r.bind(r,30153)),Promise.resolve().then(r.t.bind(r,65091,23)),Promise.resolve().then(r.t.bind(r,9662,23)),Promise.resolve().then(r.bind(r,91585))},71756:function(e,t,r){"use strict";r.d(t,{ConditionalLayout:function(){return m}});var s=r(15444),n=r(79047),i=r(41084),a=r(75762),c=r(71384),l=r(54907),o=r(4693),d=r(97480),u=r(2422),h=r(89300);function f(){let{data:e,status:t}=(0,a.useSession)()||{},[r,n]=(0,h.useState)(0),[f,x]=(0,h.useState)(!1);(0,h.useEffect)(()=>{x(!0)},[]),(0,h.useEffect)(()=>{if(e?.user){m();let e=setInterval(()=>{m()},3e3);return()=>clearInterval(e)}n(0)},[e]);let m=async()=>{try{let e=await fetch("/api/cart");if(e.ok){let t=await e.json(),r=t?.reduce((e,t)=>e+(t.quantity||0),0)||0;n(r)}}catch(e){console.error("Error fetching cart:",e)}};if(!f)return null;let g=e?.user?.role==="ADMIN";return(0,s.jsx)("header",{className:"sticky top-0 z-50 w-full border-b bg-white/80 backdrop-blur-md",children:(0,s.jsx)("div",{className:"container mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex h-16 items-center justify-between",children:[(0,s.jsx)(i.default,{href:"/",className:"text-2xl font-bold text-[#60B5FF] hover:text-[#4A9FE8] transition-colors",children:"ShopHub"}),(0,s.jsx)("nav",{className:"flex items-center gap-4",children:"authenticated"===t&&e?(0,s.jsxs)(s.Fragment,{children:[g&&(0,s.jsx)(i.default,{href:"/admin",children:(0,s.jsxs)(u.z,{variant:"ghost",size:"sm",className:"gap-2",children:[(0,s.jsx)(c.Z,{className:"h-4 w-4"}),"Admin"]})}),(0,s.jsx)(i.default,{href:"/orders",children:(0,s.jsx)(u.z,{variant:"ghost",size:"sm",children:"Mis \xd3rdenes"})}),(0,s.jsx)(i.default,{href:"/cart",children:(0,s.jsxs)(u.z,{variant:"ghost",size:"sm",className:"gap-2 relative",children:[(0,s.jsx)(l.Z,{className:"h-5 w-5"}),r>0&&(0,s.jsx)("span",{className:"absolute -top-1 -right-1 flex h-5 w-5 items-center justify-center rounded-full bg-red-500 text-[10px] font-bold text-white shadow-lg",children:r>99?"99+":r})]})}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(o.Z,{className:"h-5 w-5 text-gray-600"}),(0,s.jsx)("span",{className:"text-sm text-gray-700",children:e.user?.name||e.user?.email})]}),(0,s.jsxs)(u.z,{variant:"ghost",size:"sm",onClick:()=>(0,a.signOut)({callbackUrl:"/login"}),className:"gap-2",children:[(0,s.jsx)(d.Z,{className:"h-4 w-4"}),"Salir"]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.default,{href:"/login",children:(0,s.jsx)(u.z,{variant:"ghost",size:"sm",children:"Iniciar Sesi\xf3n"})}),(0,s.jsx)(i.default,{href:"/signup",children:(0,s.jsx)(u.z,{size:"sm",className:"bg-[#60B5FF] hover:bg-[#4A9FE8]",children:"Registrarse"})})]})})]})})})}function x(){return(0,s.jsx)("footer",{className:"w-full border-t bg-gray-50 py-8 mt-auto",children:(0,s.jsx)("div",{className:"container mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex flex-col items-center justify-between gap-4 sm:flex-row",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"\xa9 2024 ShopHub. Todos los derechos reservados."}),(0,s.jsxs)("div",{className:"flex gap-6",children:[(0,s.jsx)(i.default,{href:"/",className:"text-sm text-gray-600 hover:text-[#60B5FF] transition-colors",children:"Inicio"}),(0,s.jsx)(i.default,{href:"/cart",className:"text-sm text-gray-600 hover:text-[#60B5FF] transition-colors",children:"Carrito"})]})]})})})}function m({children:e}){let t=(0,n.usePathname)();return t?.startsWith("/admin")?(0,s.jsx)(s.Fragment,{children:e}):(0,s.jsxs)("div",{className:"flex min-h-screen flex-col",children:[(0,s.jsx)(f,{}),(0,s.jsx)("main",{className:"flex-1",children:e}),(0,s.jsx)(x,{})]})}},30153:function(e,t,r){"use strict";r.d(t,{Providers:function(){return i}});var s=r(15444),n=r(75762);function i({children:e}){return(0,s.jsx)(n.SessionProvider,{children:e})}},2422:function(e,t,r){"use strict";r.d(t,{z:function(){return o}});var s=r(15444),n=r(89300),i=r(21030),a=r(2371),c=r(65522);let l=(0,a.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=n.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},o)=>{let d=n?i.g7:"button";return(0,s.jsx)(d,{className:(0,c.cn)(l({variant:t,size:r,className:e})),ref:o,...a})});o.displayName="Button"},65522:function(e,t,r){"use strict";r.d(t,{cn:function(){return i}});var s=r(32191),n=r(23607);function i(...e){return(0,n.m6)((0,s.W)(e))}},71384:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(42154).Z)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]])},97480:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(42154).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},54907:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(42154).Z)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},4693:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(42154).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},9662:function(){},65091:function(e){e.exports={style:{fontFamily:"'__Inter_f367f3', '__Inter_Fallback_f367f3'",fontStyle:"normal"},className:"__className_f367f3"}}},function(e){e.O(0,[854,990,762,585,475,386,156,744],function(){return e(e.s=22020)}),_N_E=e.O()}]);