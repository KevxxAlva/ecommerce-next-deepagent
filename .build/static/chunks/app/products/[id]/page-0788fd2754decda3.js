(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[351],{76526:function(e,r,t){Promise.resolve().then(t.bind(t,33810))},33810:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return f}});var s=t(15444),a=t(89300),n=t(79047),i=t(48001),c=t(2422),o=t(98155),l=t(54907),d=t(75762),u=t(91585),m=t(63135);function f(){let e=(0,n.useParams)(),r=(0,n.useRouter)(),{data:t}=(0,d.useSession)()||{},[f,h]=(0,a.useState)(null),[g,x]=(0,a.useState)(!0),[p,v]=(0,a.useState)(1),[b,y]=(0,a.useState)(0);(0,a.useEffect)(()=>{e?.id&&j()},[e?.id]);let j=async()=>{try{let t=await fetch(`/api/products/${e?.id}`);if(t.ok){let e=await t.json();h(e)}else u.A.error("Producto no encontrado"),r.push("/")}catch(e){console.error("Error fetching product:",e),u.A.error("Error al cargar producto")}finally{x(!1)}},N=async()=>{if(!t){r.push("/login");return}try{(await fetch("/api/cart",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({productId:f?.id,quantity:p})})).ok?(u.A.success("Producto agregado al carrito"),r.push("/cart")):u.A.error("Error al agregar al carrito")}catch(e){console.error("Error:",e),u.A.error("Error al agregar al carrito")}};return g?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsx)("p",{className:"text-gray-600",children:"Cargando..."})}):f?(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 py-12",children:(0,s.jsxs)("div",{className:"container mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[(0,s.jsxs)(c.z,{variant:"ghost",onClick:()=>r.back(),className:"mb-6 gap-2",children:[(0,s.jsx)(o.Z,{className:"h-4 w-4"}),"Volver"]}),(0,s.jsxs)(m.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"grid grid-cols-1 md:grid-cols-2 gap-8 bg-white rounded-2xl shadow-lg p-8",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"relative aspect-square w-full rounded-lg overflow-hidden bg-gray-100",children:f?.images?.[b]?(0,s.jsx)(i.default,{src:f.images[b],alt:f.name,fill:!0,className:"object-cover"}):(0,s.jsx)("div",{className:"flex h-full items-center justify-center text-gray-400",children:"Sin imagen"})}),f?.images&&f.images.length>1&&(0,s.jsx)("div",{className:"grid grid-cols-4 gap-2",children:f.images.map((e,r)=>(0,s.jsx)("button",{onClick:()=>y(r),className:`relative aspect-square rounded-md overflow-hidden ${b===r?"ring-2 ring-[#60B5FF]":""}`,children:(0,s.jsx)(i.default,{src:e,alt:`${f.name} ${r+1}`,fill:!0,className:"object-cover"})},r))})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-[#60B5FF] font-medium uppercase mb-2",children:f?.category?.name}),(0,s.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:f.name}),(0,s.jsxs)("p",{className:"text-3xl font-bold text-[#60B5FF]",children:["$",f.price?.toFixed?.(2)??"0.00"]})]}),(0,s.jsxs)("div",{className:"border-t border-b py-6",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"Descripci\xf3n"}),(0,s.jsx)("p",{className:"text-gray-700 leading-relaxed",children:f.description})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Cantidad"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(c.z,{variant:"outline",onClick:()=>v(Math.max(1,p-1)),children:"-"}),(0,s.jsx)("span",{className:"text-xl font-semibold px-6",children:p}),(0,s.jsx)(c.z,{variant:"outline",onClick:()=>v(p+1),children:"+"})]})]}),(0,s.jsxs)(c.z,{onClick:N,className:"w-full bg-[#60B5FF] hover:bg-[#4A9FE8] py-6 text-lg gap-2",children:[(0,s.jsx)(l.Z,{className:"h-5 w-5"}),"Agregar al Carrito"]})]}),(0,s.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,s.jsx)("span",{className:"font-semibold",children:"Stock disponible:"})," ",f.stock>0?`${f.stock} unidades`:"Agotado"]})})]})]})]})}):null}},2422:function(e,r,t){"use strict";t.d(r,{z:function(){return l}});var s=t(15444),a=t(89300),n=t(21030),i=t(2371),c=t(65522);let o=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=a.forwardRef(({className:e,variant:r,size:t,asChild:a=!1,...i},l)=>{let d=a?n.g7:"button";return(0,s.jsx)(d,{className:(0,c.cn)(o({variant:r,size:t,className:e})),ref:l,...i})});l.displayName="Button"},65522:function(e,r,t){"use strict";t.d(r,{cn:function(){return n}});var s=t(32191),a=t(23607);function n(...e){return(0,a.m6)((0,s.W)(e))}},42154:function(e,r,t){"use strict";t.d(r,{Z:function(){return o}});var s=t(89300);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=(...e)=>e.filter((e,r,t)=>!!e&&t.indexOf(e)===r).join(" ");var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,s.forwardRef)(({color:e="currentColor",size:r=24,strokeWidth:t=2,absoluteStrokeWidth:a,className:c="",children:o,iconNode:l,...d},u)=>(0,s.createElement)("svg",{ref:u,...i,width:r,height:r,stroke:e,strokeWidth:a?24*Number(t)/Number(r):t,className:n("lucide",c),...d},[...l.map(([e,r])=>(0,s.createElement)(e,r)),...Array.isArray(o)?o:[o]])),o=(e,r)=>{let t=(0,s.forwardRef)(({className:t,...i},o)=>(0,s.createElement)(c,{ref:o,iconNode:r,className:n(`lucide-${a(e)}`,t),...i}));return t.displayName=`${e}`,t}},98155:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});let s=(0,t(42154).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},54907:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});let s=(0,t(42154).Z)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},16227:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"RouterContext",{enumerable:!0,get:function(){return s}});let s=t(93906)._(t(89300)).default.createContext(null)}},function(e){e.O(0,[990,762,135,585,1,386,156,744],function(){return e(e.s=76526)}),_N_E=e.O()}]);