(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[12],{32138:function(e,t,r){Promise.resolve().then(r.bind(r,64490))},64490:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return m}});var s=r(15444),a=r(89300),n=r(79047),i=r(75762),l=r(48001),d=r(2422),c=r(98155),o=r(16629),u=r(63135),x=r(91585);function m(){var e;let t=(0,n.useParams)(),r=(0,n.useRouter)(),{status:m}=(0,i.useSession)()||{},[h,f]=(0,a.useState)(null),[g,p]=(0,a.useState)(!0);(0,a.useEffect)(()=>{if("unauthenticated"===m){r.push("/login");return}"authenticated"===m&&t?.id&&y()},[m,t?.id,r]);let y=async()=>{try{let e=await fetch(`/api/orders/${t?.id}`);if(e.ok){let t=await e.json();f(t)}else x.A.error("Orden no encontrada"),r.push("/orders")}catch(e){console.error("Error fetching order:",e),x.A.error("Error al cargar la orden")}finally{p(!1)}};return"loading"===m||g?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsx)("p",{className:"text-gray-600",children:"Cargando orden..."})}):h?(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 py-12",children:(0,s.jsxs)("div",{className:"container mx-auto max-w-5xl px-4 sm:px-6 lg:px-8",children:[(0,s.jsxs)(d.z,{variant:"ghost",onClick:()=>r.back(),className:"mb-6 gap-2",children:[(0,s.jsx)(c.Z,{className:"h-4 w-4"}),"Volver"]}),(0,s.jsxs)(u.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-6",children:[(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:["Orden #",h.id.slice(0,8)]}),(0,s.jsxs)("p",{className:"text-gray-600",children:["Realizada el ",new Date(h.createdAt).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"})]})]}),(e=h.status,(0,s.jsx)("span",{className:`px-4 py-2 rounded-full text-sm font-semibold ${{PENDING:"bg-yellow-100 text-yellow-800",PROCESSING:"bg-blue-100 text-blue-800",SHIPPED:"bg-purple-100 text-purple-800",DELIVERED:"bg-green-100 text-green-800",CANCELLED:"bg-red-100 text-red-800"}[e]||""}`,children:{PENDING:"Pendiente",PROCESSING:"Procesando",SHIPPED:"Enviado",DELIVERED:"Entregado",CANCELLED:"Cancelado"}[e]||e}))]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 border-t pt-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h2",{className:"text-lg font-semibold mb-2 flex items-center gap-2",children:[(0,s.jsx)(o.Z,{className:"h-5 w-5 text-[#60B5FF]"}),"Informaci\xf3n de Env\xedo"]}),(0,s.jsx)("p",{className:"text-gray-700",children:h.shippingName}),(0,s.jsx)("p",{className:"text-gray-600",children:h.shippingEmail}),(0,s.jsx)("p",{className:"text-gray-600 mt-2",children:h.shippingAddress})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"Resumen"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Subtotal"}),(0,s.jsxs)("span",{className:"font-medium",children:["$",h.total?.toFixed?.(2)??"0.00"]})]}),(0,s.jsx)("div",{className:"border-t pt-2",children:(0,s.jsxs)("div",{className:"flex justify-between text-xl font-bold",children:[(0,s.jsx)("span",{children:"Total"}),(0,s.jsxs)("span",{className:"text-[#60B5FF]",children:["$",h.total?.toFixed?.(2)??"0.00"]})]})})]})]})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Productos"}),(0,s.jsx)("div",{className:"space-y-4",children:h?.items?.map?.((e,t)=>s.jsxs(u.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.4,delay:.1*t},className:"flex gap-4 p-4 border rounded-lg",children:[s.jsx("div",{className:"relative h-20 w-20 flex-shrink-0 rounded-md overflow-hidden bg-gray-100",children:e?.product?.images?.[0]?s.jsx(l.default,{src:e.product.images[0],alt:e?.product?.name??"",fill:!0,className:"object-cover"}):s.jsx("div",{className:"flex h-full items-center justify-center text-gray-400 text-xs",children:"Sin imagen"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e?.product?.name}),s.jsxs("p",{className:"text-gray-600",children:["Cantidad: ",e.quantity]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["$",e.price?.toFixed?.(2)??"0.00"]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Total: $",((e?.price??0)*(e?.quantity??0)).toFixed(2)]})]})]},e.id))||null})]})]})]})}):null}},2422:function(e,t,r){"use strict";r.d(t,{z:function(){return c}});var s=r(15444),a=r(89300),n=r(21030),i=r(2371),l=r(65522);let d=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef(({className:e,variant:t,size:r,asChild:a=!1,...i},c)=>{let o=a?n.g7:"button";return(0,s.jsx)(o,{className:(0,l.cn)(d({variant:t,size:r,className:e})),ref:c,...i})});c.displayName="Button"},65522:function(e,t,r){"use strict";r.d(t,{cn:function(){return n}});var s=r(32191),a=r(23607);function n(...e){return(0,a.m6)((0,s.W)(e))}},42154:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var s=r(89300);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=(...e)=>e.filter((e,t,r)=>!!e&&r.indexOf(e)===t).join(" ");var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,s.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:l="",children:d,iconNode:c,...o},u)=>(0,s.createElement)("svg",{ref:u,...i,width:t,height:t,stroke:e,strokeWidth:a?24*Number(r)/Number(t):r,className:n("lucide",l),...o},[...c.map(([e,t])=>(0,s.createElement)(e,t)),...Array.isArray(d)?d:[d]])),d=(e,t)=>{let r=(0,s.forwardRef)(({className:r,...i},d)=>(0,s.createElement)(l,{ref:d,iconNode:t,className:n(`lucide-${a(e)}`,r),...i}));return r.displayName=`${e}`,r}},98155:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(42154).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},16629:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(42154).Z)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]])},16227:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RouterContext",{enumerable:!0,get:function(){return s}});let s=r(93906)._(r(89300)).default.createContext(null)}},function(e){e.O(0,[990,762,135,585,1,386,156,744],function(){return e(e.s=32138)}),_N_E=e.O()}]);